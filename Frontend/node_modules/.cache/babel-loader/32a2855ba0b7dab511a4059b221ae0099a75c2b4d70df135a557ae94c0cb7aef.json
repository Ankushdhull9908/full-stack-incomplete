{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import'./DescriptionOfItems.css';// Import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DescriptionOfItems(props){const modeStyle={backgroundColor:props.mode==='dark'?'white':'grey'};const[comments,setComments]=useState([]);// State to store comments\nconst[newComment,setNewComment]=useState('');// State to store new comment\nconst[isLoading,setIsLoading]=useState(true);// State to manage loading\nconst[item,setItem]=useState(null);// State to store the current item\nconst navigate=useNavigate();const token=localStorage.getItem(\"userdata\");const username=token?JSON.parse(token):null;const{id}=useParams();// Get ID from URL\nconst numericId=Number(id);// Convert ID to number\nconst[flaglike,setflaglike]=useState(false);// Fetch the specific item by ID if it's not available in props.allItems\nuseEffect(()=>{if(props.allItems.length>0){// If items are already available in props, find the item\nconst foundItem=props.allItems.find(item=>item.id===numericId);setItem(foundItem);}else{// If props.allItems is empty, fetch the specific item data\nconst fetchItemById=async()=>{try{const response=await fetch(`http://localhost:7600/api/items/${numericId}`);if(!response.ok){throw new Error('Item not found');}const itemData=await response.json();setItem(itemData);}catch(error){console.error('Error fetching item:',error);}};fetchItemById();}},[props.allItems,numericId]);// Fetch comments when the component is mounted or when `numericId` changes\nuseEffect(()=>{const fetchComments=async()=>{try{setIsLoading(true);// Start loading\nconst response=await fetch(\"http://localhost:7600/allcomments\",{method:\"GET\",headers:{'Content-Type':'application/json'}});if(!response.ok){throw new Error('Network response was not ok');}const result=await response.json();// Convert the response to JSON\n// Check if the result is an array before setting it\nif(Array.isArray(result)){setComments(result);// Set the comments state with the fetched data\n}else{console.error('Fetched comments data is not an array');}}catch(error){console.error('There was a problem with the fetch operation:',error);}finally{setIsLoading(false);// Stop loading\n}};if(numericId){fetchComments();// Call the async function to fetch comments\n}},[numericId]);// Filter comments by item ID\nuseEffect(()=>{},[comments]);const filteredComments=comments.filter(comment=>comment.itemId===numericId);console.log(filteredComments);// Handle Add to Cart functionality\nconst handleAddToCart=()=>{/* let copyOfCart = [...props.cart]; // Create a copy of the cart\r\n    let existingItemIndex = copyOfCart.findIndex((cartItem) => cartItem.id === item.id);\r\n\r\n    if (existingItemIndex !== -1) {\r\n      copyOfCart[existingItemIndex].quantity += 1; // Increase quantity\r\n      props.setCart(copyOfCart); // Update the cart state\r\n    } else {\r\n      const newItem = { ...item, quantity: 1 }; // Start quantity at 1\r\n      props.setCart([...copyOfCart, newItem]); // Add new item to cart\r\n    }*/if(!username){alert(\"please login first\");navigate(\"/form\");}else{const itemData={itemId:item.id,itemUrl:item.url,itemDescription:item.description,itemName:item.name,itemQuantity:item.quantity,itemPrice:item.price,itemOwnerEmail:username.user.name};console.log(itemData);try{const res=fetch(\"http://localhost:7600/api/addToCart\",{method:\"POST\",// Ensure the method is POST\nheaders:{'Content-Type':'application/json'},body:JSON.stringify(itemData)});// Semicolon added here\n}catch(error){console.log(error);}}};// Handle comment form submission\nconst handleSubmit=async e=>{const like=0;e.preventDefault();const commentData={name:username.user.name,itemId:numericId,// Use the numeric ID here\ncomment:newComment,numberoflikes:like};console.log(commentData);try{const response=await fetch(\"http://localhost:7600/comment\",{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify(commentData)});if(response.ok){setNewComment('');// Clear the comment input after successful submission\n// fetchComments(); // Re-fetch the comments after adding a new one\n}else{throw new Error('Failed to post comment');}}catch(error){console.error('There was an error posting the comment:',error);}};// Show a loading indicator if still fetching data\nif(!item){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading item...\"});}function deletecomment(index){const deletecommentdata={comment:filteredComments[index].comment,username:filteredComments[index].name};try{fetch('http://localhost:7600/deletecomment',{method:\"Post\",headers:{'Content-type':'Application/json'},body:JSON.stringify(deletecommentdata)});alert(\"comment deleted\");}catch(error){}}function giveLike(index){const commentlikedata={itemId:filteredComments[index].itemId,comment:filteredComments[index].comment};console.log(commentlikedata);try{fetch('http://localhost:7600/givelike',{method:\"Post\",headers:{'Content-type':'Application/json'},body:JSON.stringify(commentlikedata)});setflaglike(true);}catch(error){console.log(error);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:modeStyle,children:[/*#__PURE__*/_jsx(\"img\",{src:item.Bigimage,alt:item.name,className:\"item-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"item-title\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-price\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" \\u20B9\",item.price]}),/*#__PURE__*/_jsx(\"p\",{className:\"item-description\",children:item.description}),/*#__PURE__*/_jsx(\"button\",{className:\"add-to-cart\",onClick:handleAddToCart,children:\"Add to Cart\"}),item.specifications&&/*#__PURE__*/_jsxs(\"div\",{className:\"specifications\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Specifications\"}),/*#__PURE__*/_jsx(\"table\",{className:\"specifications-table\",children:/*#__PURE__*/_jsx(\"tbody\",{children:Object.entries(item.specifications).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[key.charAt(0).toUpperCase()+key.slice(1),\":\"]}),/*#__PURE__*/_jsx(\"td\",{children:Array.isArray(value)?value.join(', '):value})]},key);})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"comments-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(\"div\",{className:\"comments-list\",children:filteredComments.length>0?filteredComments.map((comment,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"comment\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[comment.name,\":\"]}),\" \",comment.comment]}),/*#__PURE__*/_jsxs(\"p\",{id:\"viewson\",children:[/*#__PURE__*/_jsx(\"i\",{children:\"views on:\"}),\" \",item.name]}),comment.name===username.user.name?/*#__PURE__*/_jsx(\"button\",{id:\"deletebtn\",onClick:()=>{deletecomment(index);},children:\"delete\"}):/*#__PURE__*/_jsx(\"p\",{}),comment.name===username.user.name?/*#__PURE__*/_jsx(\"p\",{}):/*#__PURE__*/_jsx(\"button\",{disabled:flaglike,onClick:()=>{giveLike(index);},children:\"Like\"}),/*#__PURE__*/_jsx(\"p\",{id:\"nooflikes\",children:comment.numberoflikes})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No comments yet. Be The First One To Comment\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"comment-form\",onSubmit:e=>{if(!username){alert(\"Please log in first\");navigate(\"/form\");}else{handleSubmit(e);}},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newComment,onChange:e=>setNewComment(e.target.value),placeholder:`Comment as ${!username?\"user\":username.user.name}`,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit Comment\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","DescriptionOfItems","props","modeStyle","backgroundColor","mode","comments","setComments","newComment","setNewComment","isLoading","setIsLoading","item","setItem","navigate","token","localStorage","getItem","username","JSON","parse","id","numericId","Number","flaglike","setflaglike","allItems","length","foundItem","find","fetchItemById","response","fetch","ok","Error","itemData","json","error","console","fetchComments","method","headers","result","Array","isArray","filteredComments","filter","comment","itemId","log","handleAddToCart","alert","itemUrl","url","itemDescription","description","itemName","name","itemQuantity","quantity","itemPrice","price","itemOwnerEmail","user","res","body","stringify","handleSubmit","e","like","preventDefault","commentData","numberoflikes","children","deletecomment","index","deletecommentdata","giveLike","commentlikedata","className","style","src","Bigimage","alt","onClick","specifications","Object","entries","map","_ref","key","value","charAt","toUpperCase","slice","join","disabled","onSubmit","type","onChange","target","placeholder","required"],"sources":["D:/React/react_app1Copy - Copy - Copy/Frontend/src/DescriptionOfItems.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport './DescriptionOfItems.css'; // Import the CSS file\r\n\r\nexport default function DescriptionOfItems(props) {\r\n  const modeStyle = {\r\n    backgroundColor: props.mode === 'dark' ? 'white' : 'grey',\r\n  };\r\n\r\n  const [comments, setComments] = useState([]); // State to store comments\r\n  const [newComment, setNewComment] = useState(''); // State to store new comment\r\n  const [isLoading, setIsLoading] = useState(true); // State to manage loading\r\n  const [item, setItem] = useState(null); // State to store the current item\r\n  const navigate = useNavigate();\r\n  const token = localStorage.getItem(\"userdata\");\r\n  const username = token ? JSON.parse(token) : null;\r\n  const { id } = useParams(); // Get ID from URL\r\n  const numericId = Number(id); // Convert ID to number\r\n  const [flaglike,setflaglike] = useState(false)\r\n\r\n  // Fetch the specific item by ID if it's not available in props.allItems\r\n  useEffect(() => {\r\n    if (props.allItems.length > 0) {\r\n      // If items are already available in props, find the item\r\n      const foundItem = props.allItems.find((item) => item.id === numericId);\r\n      setItem(foundItem);\r\n    } else {\r\n      // If props.allItems is empty, fetch the specific item data\r\n      const fetchItemById = async () => {\r\n        try {\r\n          const response = await fetch(`http://localhost:7600/api/items/${numericId}`);\r\n          if (!response.ok) {\r\n            throw new Error('Item not found');\r\n          }\r\n          const itemData = await response.json();\r\n          \r\n          setItem(itemData);\r\n         \r\n        } catch (error) {\r\n          console.error('Error fetching item:', error);\r\n        }\r\n      };\r\n\r\n      fetchItemById();\r\n    }\r\n  }, [props.allItems, numericId]);\r\n\r\n  // Fetch comments when the component is mounted or when `numericId` changes\r\n  useEffect(() => {\r\n    const fetchComments = async () => {\r\n      try {\r\n        setIsLoading(true); // Start loading\r\n        const response = await fetch(\"http://localhost:7600/allcomments\", {\r\n          method: \"GET\",\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n\r\n        const result = await response.json(); // Convert the response to JSON\r\n\r\n        // Check if the result is an array before setting it\r\n        if (Array.isArray(result)) {\r\n          setComments(result); // Set the comments state with the fetched data\r\n        } else {\r\n          console.error('Fetched comments data is not an array');\r\n        }\r\n      } catch (error) {\r\n        console.error('There was a problem with the fetch operation:', error);\r\n      } finally {\r\n        setIsLoading(false); // Stop loading\r\n      }\r\n    };\r\n\r\n    if (numericId) {\r\n      fetchComments(); // Call the async function to fetch comments\r\n    }\r\n  }, [numericId]);\r\n\r\n  // Filter comments by item ID\r\n\r\n  useEffect(()=>{\r\n    \r\n  },[comments])\r\n  const filteredComments = comments.filter((comment) => comment.itemId === numericId);\r\n  console.log(filteredComments)\r\n  \r\n  // Handle Add to Cart functionality\r\n  const handleAddToCart = () => {\r\n   /* let copyOfCart = [...props.cart]; // Create a copy of the cart\r\n    let existingItemIndex = copyOfCart.findIndex((cartItem) => cartItem.id === item.id);\r\n\r\n    if (existingItemIndex !== -1) {\r\n      copyOfCart[existingItemIndex].quantity += 1; // Increase quantity\r\n      props.setCart(copyOfCart); // Update the cart state\r\n    } else {\r\n      const newItem = { ...item, quantity: 1 }; // Start quantity at 1\r\n      props.setCart([...copyOfCart, newItem]); // Add new item to cart\r\n    }*/\r\n      if (!username) {\r\n        alert(\"please login first\");\r\n        navigate(\"/form\");\r\n    } else {\r\n        const itemData = {\r\n            itemId: item.id,\r\n            itemUrl: item.url,\r\n            itemDescription: item.description,\r\n            itemName: item.name,\r\n            itemQuantity: item.quantity,\r\n            itemPrice: item.price,\r\n            itemOwnerEmail: username.user.name\r\n        };\r\n        console.log(itemData);\r\n\r\n        try {\r\n            const res = fetch(\"http://localhost:7600/api/addToCart\", {\r\n                method: \"POST\",  // Ensure the method is POST\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(itemData)\r\n            }); // Semicolon added here\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n  };\r\n\r\n  // Handle comment form submission\r\n  const handleSubmit = async (e) => {\r\n    const like = 0\r\n    e.preventDefault();\r\n\r\n    const commentData = {\r\n      name: username.user.name,\r\n      itemId: numericId, // Use the numeric ID here\r\n      comment: newComment,\r\n      numberoflikes:like\r\n    };\r\n\r\n    console.log(commentData)\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:7600/comment\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(commentData),\r\n      });\r\n\r\n      if (response.ok) {\r\n        setNewComment(''); // Clear the comment input after successful submission\r\n        // fetchComments(); // Re-fetch the comments after adding a new one\r\n      } else {\r\n        throw new Error('Failed to post comment');\r\n      }\r\n    } catch (error) {\r\n      console.error('There was an error posting the comment:', error);\r\n    }\r\n  };\r\n\r\n  // Show a loading indicator if still fetching data\r\n  if (!item) {\r\n    return <div>Loading item...</div>;\r\n  }\r\n\r\n  function deletecomment(index){\r\n    \r\n    const deletecommentdata = {comment:filteredComments[index].comment,username:filteredComments[index].name}\r\n\r\n\r\n    try{\r\n      fetch('http://localhost:7600/deletecomment',{\r\n        method:\"Post\",headers:{\r\n          'Content-type':'Application/json'\r\n        },body:JSON.stringify(deletecommentdata)\r\n      })\r\n\r\n      alert(\"comment deleted\")\r\n      \r\n    }catch(error){\r\n\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  function giveLike(index){\r\n        \r\n\r\n       const commentlikedata = {itemId : filteredComments[index].itemId,\r\n        comment: filteredComments[index].comment}\r\n        console.log(commentlikedata)\r\n\r\n        try{\r\n           fetch('http://localhost:7600/givelike',\r\n            {\r\n              method:\"Post\",headers:{\r\n                'Content-type':'Application/json'\r\n              },body:JSON.stringify(commentlikedata)\r\n            }\r\n           )\r\n          setflaglike(true)\r\n        }catch(error){\r\n          console.log(error)\r\n        }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\" style={modeStyle}>\r\n      <img src={item.Bigimage} alt={item.name} className=\"item-image\" />\r\n      <div className=\"item-details\">\r\n        <h1 className=\"item-title\">{item.name}</h1>\r\n        <p className=\"item-price\"><strong>Price:</strong> â‚¹{item.price}</p>\r\n        <p className=\"item-description\">{item.description}</p>\r\n        <button className=\"add-to-cart\" onClick={handleAddToCart}>\r\n          Add to Cart\r\n        </button>\r\n\r\n        {item.specifications && (\r\n          <div className=\"specifications\">\r\n            <h2>Specifications</h2>\r\n            <table className=\"specifications-table\">\r\n              <tbody>\r\n                {Object.entries(item.specifications).map(([key, value]) => (\r\n                  <tr key={key}>\r\n                    <td>{key.charAt(0).toUpperCase() + key.slice(1)}:</td>\r\n                    <td>{Array.isArray(value) ? value.join(', ') : value}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Comment Section */}\r\n      <div className=\"comments-section\">\r\n        <h2>Reviews</h2>\r\n        {/* Display comments */}\r\n        <div className=\"comments-list\">\r\n          {filteredComments.length > 0 ? (\r\n            filteredComments.map((comment, index) => (\r\n              <div key={index} className=\"comment\">\r\n                <p><b>{comment.name}:</b> {comment.comment}</p>\r\n                <p id=\"viewson\"><i>views on:</i> {item.name}</p>\r\n                {\r\n                  comment.name===username.user.name?<button id=\"deletebtn\" onClick={()=>{\r\n                    deletecomment(index)\r\n                  }}>delete</button>:<p></p>\r\n                }\r\n                {\r\n                  comment.name === username.user.name?<p></p>:<button disabled={flaglike} onClick={()=>{\r\n                    giveLike(index)\r\n                  }}>Like</button>\r\n                }\r\n                <p id=\"nooflikes\">{comment.numberoflikes}</p>\r\n                \r\n                \r\n              </div>\r\n            ))\r\n          ) : (\r\n            <p>No comments yet. Be The First One To Comment</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Comment Form */}\r\n        <form\r\n          className=\"comment-form\"\r\n          onSubmit={(e) => {\r\n            if (!username) {\r\n              alert(\"Please log in first\");\r\n              navigate(\"/form\");\r\n            } else {\r\n              handleSubmit(e);\r\n            }\r\n          }}\r\n        >\r\n          \r\n          <input\r\n            type=\"text\"\r\n            value={newComment}\r\n            onChange={(e) => setNewComment(e.target.value)}\r\n            placeholder={`Comment as ${!username ? \"user\" : username.user.name}`}\r\n            required\r\n          />\r\n          \r\n          <button type=\"submit\">Submit Comment</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}