{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./Content.css';import Hero1 from'./Hero1.js';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Content(props){const[selectedCategory,setSelectedCategory]=useState(\"\");const navigate=useNavigate();const[filterItems,setFilterItems]=useState([]);const token=localStorage.getItem(\"userdata\");const username=token?JSON.parse(token):null;const modeStyle={backgroundColor:props.mode==='dark'?'white':'grey'};const fetchItems=async()=>{try{const response=await fetch('http://localhost:7600/api/items');if(!response.ok)throw new Error('Network response was not ok');const data=await response.json();console.log(data);props.setAllItems(data);setFilterItems(data);}catch(error){console.error('Error fetching items:',error);}};useEffect(()=>{fetchItems();},[]);function AddToCart(index){if(!username){alert(\"please login first\");navigate(\"/form\");}else{const itemData={itemId:filterItems[index].id,itemUrl:filterItems[index].url,itemDescription:filterItems[index].description,itemName:filterItems[index].name,itemQuantity:parseInt(filterItems[index].quantity),itemPrice:filterItems[index].price,itemOwnerEmail:username.user.name};console.log(itemData);try{const res=fetch(\"http://localhost:7600/api/addToCart\",{method:\"POST\",// Ensure the method is POST\nheaders:{'Content-Type':'application/json'},body:JSON.stringify(itemData)});// Semicolon added here\n}catch(error){console.log(error);}}}function phones(){setSelectedCategory(\"phone\");const filteredPhones=props.allItems.filter(i=>i.category===\"phone\");setFilterItems(filteredPhones);}function laptops(){setSelectedCategory(\"laptop\");const filteredLaptops=props.allItems.filter(i=>i.category===\"laptop\");setFilterItems(filteredLaptops);}function all(){setSelectedCategory(\"all\");setFilterItems(props.allItems);}function television(){setSelectedCategory(\"tv\");const filteredTVs=props.allItems.filter(i=>i.category===\"tv\");setFilterItems(filteredTVs);}return/*#__PURE__*/_jsxs(\"div\",{className:\"main\",style:modeStyle,children:[/*#__PURE__*/_jsx(Hero1,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"Categories\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Categories\"}),/*#__PURE__*/_jsx(\"img\",{className:selectedCategory===\"all\"?\"active\":\"\",src:\"/asus.jpeg\",onClick:all,alt:\"All\"}),/*#__PURE__*/_jsx(\"img\",{className:selectedCategory===\"laptop\"?\"active\":\"\",src:\"/asus2.jpg\",onClick:laptops,alt:\"Laptops\"}),/*#__PURE__*/_jsx(\"img\",{className:selectedCategory===\"phone\"?\"active\":\"\",src:\"/s24.jpg\",onClick:phones,alt:\"Phones\"}),/*#__PURE__*/_jsx(\"img\",{className:selectedCategory===\"tv\"?\"active\":\"\",src:\"/qled.jpeg\",onClick:television,alt:\"Television\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"MainContent\",id:\"items\",style:modeStyle,children:!filterItems.length>0?/*#__PURE__*/_jsx(\"p\",{children:\"....Waiting for Network response\"}):filterItems.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"item\",style:modeStyle,children:[/*#__PURE__*/_jsx(\"img\",{src:item.url,onClick:()=>navigate(`/items/${item.id}`),alt:item.name}),/*#__PURE__*/_jsx(\"h1\",{onClick:()=>navigate(`/items/${item.id}`),children:item.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" \\u20B9\",item.price]}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>AddToCart(index),children:\"Add to Cart\"})]},item.id))})]});}","map":{"version":3,"names":["React","useState","useEffect","Hero1","useNavigate","jsx","_jsx","jsxs","_jsxs","Content","props","selectedCategory","setSelectedCategory","navigate","filterItems","setFilterItems","token","localStorage","getItem","username","JSON","parse","modeStyle","backgroundColor","mode","fetchItems","response","fetch","ok","Error","data","json","console","log","setAllItems","error","AddToCart","index","alert","itemData","itemId","id","itemUrl","url","itemDescription","description","itemName","name","itemQuantity","parseInt","quantity","itemPrice","price","itemOwnerEmail","user","res","method","headers","body","stringify","phones","filteredPhones","allItems","filter","i","category","laptops","filteredLaptops","all","television","filteredTVs","className","style","children","src","onClick","alt","length","map","item"],"sources":["D:/React/react_app1Copy - Copy - Copy/Frontend/src/Content.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Content.css';\r\nimport Hero1 from './Hero1.js';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Content(props) {\r\n    const [selectedCategory, setSelectedCategory] = useState(\"\"); \r\n    const navigate = useNavigate();\r\n    const [filterItems, setFilterItems] = useState([]);\r\n    const token = localStorage.getItem(\"userdata\");\r\n    const username = token ? JSON.parse(token) : null;\r\n\r\n    const modeStyle = {\r\n        backgroundColor: props.mode === 'dark' ? 'white' : 'grey',\r\n    };\r\n\r\n    const fetchItems = async () => {\r\n        try {\r\n            const response = await fetch('http://localhost:7600/api/items'); \r\n            if (!response.ok) throw new Error('Network response was not ok');\r\n            const data = await response.json();\r\n            console.log(data);\r\n            props.setAllItems(data); \r\n            setFilterItems(data); \r\n        } catch (error) {\r\n            console.error('Error fetching items:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchItems(); \r\n    }, []);\r\n\r\n    function AddToCart(index) {\r\n        if (!username) {\r\n            alert(\"please login first\");\r\n            navigate(\"/form\");\r\n        } else {\r\n            const itemData = {\r\n                itemId: filterItems[index].id,\r\n                itemUrl: filterItems[index].url,\r\n                itemDescription: filterItems[index].description,\r\n                itemName: filterItems[index].name,\r\n                itemQuantity: parseInt(filterItems[index].quantity),\r\n                itemPrice: filterItems[index].price,\r\n                itemOwnerEmail: username.user.name\r\n            };\r\n            console.log(itemData);\r\n\r\n            try {\r\n                const res = fetch(\"http://localhost:7600/api/addToCart\", {\r\n                    method: \"POST\",  // Ensure the method is POST\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify(itemData)\r\n                }); // Semicolon added here\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n    }\r\n\r\n    function phones() {\r\n        setSelectedCategory(\"phone\");\r\n        const filteredPhones = props.allItems.filter(i => i.category === \"phone\");\r\n        setFilterItems(filteredPhones);\r\n    }\r\n\r\n    function laptops() {\r\n        setSelectedCategory(\"laptop\");\r\n        const filteredLaptops = props.allItems.filter(i => i.category === \"laptop\");\r\n        setFilterItems(filteredLaptops);\r\n    }\r\n\r\n    function all() {\r\n        setSelectedCategory(\"all\");\r\n        setFilterItems(props.allItems); \r\n    }\r\n\r\n    function television() {\r\n        setSelectedCategory(\"tv\");\r\n        const filteredTVs = props.allItems.filter(i => i.category === \"tv\");\r\n        setFilterItems(filteredTVs);\r\n    }\r\n\r\n    return (\r\n        <div className='main' style={modeStyle}>\r\n            <Hero1 />\r\n            <div className='Categories'>\r\n                <h1>Categories</h1>\r\n                \r\n                <img\r\n                    className={selectedCategory === \"all\" ? \"active\" : \"\"}\r\n                    src=\"/asus.jpeg\"\r\n                    onClick={all}\r\n                    alt=\"All\"\r\n                />\r\n                <img\r\n                    className={selectedCategory === \"laptop\" ? \"active\" : \"\"}\r\n                    src=\"/asus2.jpg\"\r\n                    onClick={laptops}\r\n                    alt=\"Laptops\"\r\n                />\r\n                <img\r\n                    className={selectedCategory === \"phone\" ? \"active\" : \"\"}\r\n                    src=\"/s24.jpg\"\r\n                    onClick={phones}\r\n                    alt=\"Phones\"\r\n                />\r\n                <img\r\n                    className={selectedCategory === \"tv\" ? \"active\" : \"\"}\r\n                    src=\"/qled.jpeg\"\r\n                    onClick={television}\r\n                    alt=\"Television\"\r\n                />\r\n            </div>\r\n\r\n            <div className='MainContent' id=\"items\" style={modeStyle}>\r\n                {\r\n                    !filterItems.length > 0 ? <p>....Waiting for Network response</p> : filterItems.map((item, index) => (\r\n                        <div key={item.id} className='item' style={modeStyle}>\r\n                            <img\r\n                                src={item.url}\r\n                                onClick={() => navigate(`/items/${item.id}`)}\r\n                                alt={item.name}\r\n                            />\r\n                            <h1 onClick={() => navigate(`/items/${item.id}`)}>{item.name}</h1>\r\n                            <p><strong>Price:</strong> â‚¹{item.price}</p>\r\n                            <p>{item.description}</p>\r\n                            <button onClick={() => AddToCart(index)}>Add to Cart</button>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}