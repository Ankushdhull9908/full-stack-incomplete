{"ast":null,"code":"import React from'react';import{useLocation,useNavigate}from'react-router-dom';import items from'./ItemList';// Import your items list\nimport'./Search1.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function Search(props){const navigate=useNavigate();const location=useLocation();const{searchQuery}=location.state||\"\";// Retrieve search query from the state\n// Filter items based on the search query\nconst filteredItems=items.filter(item=>item.name.toLowerCase().includes(searchQuery.toLowerCase()));function AddToCart(index){const updatedCart=[...props.cart];// Create a copy of the cart array\nconst ItemToAdd={...items[index]};// Create a copy of the item to add\nconst foundInd=updatedCart.findIndex(cartItem=>{return cartItem.id===items[index].id;});if(foundInd!==-1){// Update quantity without mutating the original state\nupdatedCart[foundInd]={...updatedCart[foundInd],quantity:updatedCart[foundInd].quantity+1};props.setCart(updatedCart);}else{// Set the initial quantity for new items\nItemToAdd.quantity=1;props.setCart([...updatedCart,ItemToAdd]);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Search Results for: \\\"\",searchQuery,\"\\\"\"]}),filteredItems.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"results\",children:filteredItems.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"item-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.url,alt:item.name,onClick:()=>navigate(\"/items/\".concat(item.id))}),/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \\u20B9\",item.price]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{AddToCart(index);},children:\"Add To Cart\"})]},item.id))}):/*#__PURE__*/_jsx(\"p\",{children:\"No items found matching your search criteria.\"})]});}","map":{"version":3,"names":["React","useLocation","useNavigate","items","jsxs","_jsxs","jsx","_jsx","Search","props","navigate","location","searchQuery","state","filteredItems","filter","item","name","toLowerCase","includes","AddToCart","index","updatedCart","cart","ItemToAdd","foundInd","findIndex","cartItem","id","quantity","setCart","className","children","length","map","src","url","alt","onClick","concat","description","price"],"sources":["D:/React/react_app1Copy - Copy/src/Search1.js"],"sourcesContent":["import React from 'react';\r\nimport { useLocation,useNavigate } from 'react-router-dom';\r\nimport items from './ItemList'; // Import your items list\r\nimport './Search1.css'\r\n\r\nexport default function Search(props) {\r\n  const navigate = useNavigate()\r\n  const location = useLocation();\r\n  const { searchQuery } = location.state || \"\"; // Retrieve search query from the state\r\n\r\n  // Filter items based on the search query\r\n  const filteredItems = items.filter((item) =>\r\n    item.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n\r\n  \r\n  );\r\n\r\n  \r\n\r\n  function AddToCart(index) {\r\n    const updatedCart = [...props.cart]; // Create a copy of the cart array\r\n    const ItemToAdd = { ...items[index] }; // Create a copy of the item to add\r\n  \r\n    const foundInd = updatedCart.findIndex((cartItem) => {\r\n      return cartItem.id === items[index].id;\r\n    });\r\n  \r\n    if (foundInd !== -1) {\r\n      // Update quantity without mutating the original state\r\n      updatedCart[foundInd] = {\r\n        ...updatedCart[foundInd],\r\n        quantity: updatedCart[foundInd].quantity + 1\r\n      };\r\n      props.setCart(updatedCart);\r\n    } else {\r\n      // Set the initial quantity for new items\r\n      ItemToAdd.quantity = 1;\r\n      props.setCart([...updatedCart, ItemToAdd]);\r\n    }\r\n  }\r\n  \r\n\r\n  return (\r\n    <div className=\"search-container\">\r\n      <h2>Search Results for: \"{searchQuery}\"</h2>\r\n      {filteredItems.length > 0 ? (\r\n        <div className=\"results\">\r\n          {filteredItems.map((item, index) => (\r\n            \r\n            <div key={item.id} className=\"item-card\">\r\n              \r\n              <img src={item.url} alt={item.name}  onClick={() => navigate(`/items/${item.id}`)}/>\r\n              <h3>{item.name}</h3>\r\n              <p>{item.description}</p>\r\n              <p>Price: â‚¹{item.price}</p>\r\n              <button onClick={()=>{\r\n                AddToCart(index)\r\n              }}>Add To Cart</button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p>No items found matching your search criteria.</p>\r\n      )}\r\n    </div>\r\n  );\r\n  \r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}